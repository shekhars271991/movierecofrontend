<div class="registration-container">
  <h2>Register</h2>

  <!-- Show success message if user registered successfully -->
  <div *ngIf="successMessage" class="success-message">
    {{ successMessage }}
    <a routerLink="/login">Go to Login</a>
  </div>

  <!-- Show the registration form if not successfully registered -->
  <form *ngIf="!successMessage" (ngSubmit)="onSubmit()" #registrationForm="ngForm">
    <!-- Name Field -->
    <div>
      <label for="name">Name:</label>
      <input
        type="text"
        id="name"
        required
        [(ngModel)]="name"
        name="name"
        #nameInput="ngModel"
      />
      <div *ngIf="nameInput.invalid && nameInput.touched" class="input-error">
        Name is required.
      </div>
    </div>

    <!-- Username Field (Replaced Email) -->
    <div>
      <label for="username">Username:</label>
      <input
        type="text"
        id="username"
        required
        [(ngModel)]="username"
        name="username"
        #usernameInput="ngModel"
      />
      <div *ngIf="usernameInput.invalid && usernameInput.touched" class="input-error">
        Username is required.
      </div>
    </div>

    <!-- Password Field -->
    <div>
      <label for="password">Password:</label>
      <input
        type="password"
        id="password"
        required
        [(ngModel)]="password"
        name="password"
        #passwordInput="ngModel"
        minlength="4"
      />
      <div *ngIf="passwordInput.invalid && passwordInput.touched" class="input-error">
        Password must be at least 4 characters.
      </div>
    </div>

    <!-- Confirm Password Field -->
    <div>
      <label for="confirmPassword">Confirm Password:</label>
      <input
        type="password"
        id="confirmPassword"
        required
        [(ngModel)]="confirmPassword"
        name="confirmPassword"
        #confirmPasswordInput="ngModel"
        [pattern]="password"
      />
      <div *ngIf="confirmPasswordInput.invalid && confirmPasswordInput.touched" class="input-error">
        Passwords must match.
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" [disabled]="registrationForm.invalid">Register</button>
  </form>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>
</div>
